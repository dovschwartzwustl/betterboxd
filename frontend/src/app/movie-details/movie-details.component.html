<div *ngIf="movie">
    
    <img class = "movie-poster" [src]="getPosterUrl(movie.poster_path)">
    
    <ng-container *ngIf="isLoggedIn$ | async; else showLoginButton">
    <button *ngIf="!isMovieWatched" (click)="markMovieAsWatched()">Watch</button>
    <div *ngIf="isMovieWatched">
      <button (click)="unmarkMovieAsWatched()">Watched</button>
  <!--
      <p>Your Rating:</p>
      <select [(ngModel)]="movie.rating" (change)="updateRating(movie)">
        <option *ngFor="let rating of ratings" [value]="rating">{{ rating }}</option>
      </select>
        -->
    </div>

  </ng-container>

  <ng-template #showLoginButton>
    <a [routerLink]="['/login']"><button>Login to Rate</button></a>
  </ng-template>
 
    
    
    <h2>{{ movie.title }}</h2>
    <p>Release Date: {{ movie.release_date }}</p>
    <p>Overview: {{ movie.overview }}</p>
    <p>Vote Average: {{ movie.vote_average }}</p>
  </div>
  
  <div *ngIf="!movie">
    <p>Loading movie details...</p>
  </div>
  